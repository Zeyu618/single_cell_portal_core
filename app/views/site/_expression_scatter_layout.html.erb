	var size = $('#scatter-plot').actual('width');

	var scatterLayout = {
		hovermode: 'closest',
		font: plotlyLabelFont,
		width: size,
		height: size
	};



<% if @cluster.data[:cluster_type] == '3d' %>
  var currentCamera = $('#expression-plots').data('scatter-camera');
    scatterLayout.scene = {
      camera: currentCamera,
      xaxis: {
          range: <%= raw @range[:x] %>,
          showticklabels: false
      },
      yaxis: {
          range: <%= raw @range[:y] %>,
          showticklabels: false
      },
      zaxis: {
          range: <%= raw @range[:z] %>,
          showticklabels: false
      },
      <% if @cluster.data[:domain_ranges].present? %>
        aspectmode: '<%= @expression_aspect[:mode] %>',
        aspectratio: {
          x: <%= @expression_aspect[:x] %>,
          y: <%= @expression_aspect[:y] %>,
          z: <%= @expression_aspect[:z] %>
        }
      <% else %>
        aspectmode: 'cube'
      <% end %>
  };
    
<% else %>
    scatterLayout.xaxis = {
      range: <%= raw @range[:x] %>,
      showticklabels: false
  };

    scatterLayout.yaxis = {
      range: <%= raw @range[:y] %>,
      showticklabels: false
  };

    <% if @cluster.has_coordinate_labels? %>
      scatterLayout.annotations = <%= raw @coordinate_labels.to_json %>
    <% end %>
<% end %>